<html>
<head>
  <script src="../p5.min.js"></script>
  <script>
    let ya;
    let t;             // t als float-Argument für das Perlin-Rauschen
    let incr = 0.01;   // increment (Erhöhung) für t

    function setup() {
      createCanvas(600, 200);
      strokeWeight(2);
      ya = new Array(width).fill(random(height));
      t = random(0, 1000);                   // t wird anfänglich zufällig gesetzt
      for (let x = 0; x < width; x++) {      // ya-Elemente nacheinander mit
        ya[x] = map(noise(t), 0, 1, 0, height);   // noise gesetzt
        t+=incr;                              // erhöhe t
      }
    }

    function draw() {
      background(255);
      display();
      for (let i=1; i < ya.length; i++)   // kopiere ya-Werte eins nach links
         ya[i-1] = ya[i];
      t+=incr;                          // erhöhe t
      ya[ya.length-1] = map(noise(t), 0, 1, 0, height); // neuer Wert für ganz rechts
    }

    // die display-Methode zeigt die Linie der ya-Punkte
    function display() {
      beginShape();
      for (let x=0; x < ya.length; x++)
        vertex(x, ya[x]);
      endShape();
    }
</script>
</head>
<body>
</body>
</html>