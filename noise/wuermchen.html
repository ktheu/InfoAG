<html>
<head>
  <script src="../p5.min.js"></script>
  <script>
    let baelle = new Array(100);

    function setup() {
      createCanvas(800, 800 );
      noStroke()

      for (let i = 0; i < baelle.length; i++) {
        baelle[i] = new Ball();
      }
    }

    function draw() {
      fill(0, 20);
      rect(0, 0, width, height);
      for (let b of baelle) b.act();
    }


    class Ball {

      constructor() {
        this.pos = createVector(width / 2, height / 2);
        this.v = createVector(random(-5, 5), random(-5, 5));
        this.a = createVector(0,0);
        this.radius = 8;
        this.topSpeed = 6;
      }

      act() {
        this.checkRand();
        this.move();
        this.display();
      }

      move() {
        if (mouseIsPressed) {
          let mouse = createVector(mouseX, mouseY);
          this.a = p5.Vector.sub(mouse, this.pos);
          this.a.setMag(0.5);
        } else {
          this.a.set(random(-1, 1), random(-1, 1));
        }
        this.v.add(this.a);
        this.v.limit(this.topSpeed);
        this.pos.add(this.v);
      }

      display() {
        fill(255);
        ellipse(this.pos.x, this.pos.y, this.radius * 2, this.radius * 2);
      }

      checkRand() {
        if (this.pos.x - this.radius > width) this.pos.x = -this.radius;
        else if (this.pos.x + this.radius < 0) this.pos.x = width + this.radius;

        if (this.pos.y - this.radius > height) this.pos.y = -this.radius;
        else if (this.pos.y + this.radius < 0) this.pos.y = height + this.radius;
      }
    }


  </script>
</head>
<body>
</body>
</html>