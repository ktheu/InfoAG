<html>
<head>
  <script src="../p5.min.js"></script>
  <script>

    let pos;          // Position
    let richtung;
    let geschwindigkeit = 0.5;
    let trechts = false;
    let tlinks = false;
    let tw = false;   // Taste w
    let ts = false;   // Taste s


    function setup() {
      createCanvas(400, 400);
      strokeWeight(1);
      stroke(255);
      pos = createVector(50, 200);
      richtung = createVector(1,0);

    }

    function draw() {
      background(0);
      if (tlinks) richtung.rotate(-0.06);
      if (trechts) richtung.rotate(0.06);
      if (tw) geschwindigkeit += 0.05;
      if (ts) geschwindigkeit -= 0.1;
      geschwindigkeit = constrain(geschwindigkeit,0.5,7);
      let v = richtung.copy();
      v.setMag(geschwindigkeit);
      pos.add(v);

      if (pos.x > width + 5) pos.x = -5;
      if (pos.y > height + 5) pos.y = -5;
      if (pos.x < -5) pos.x = width + 5;
      if (pos.y < -5) pos.y = height + 5;

      push();
      translate(pos.x, pos.y)
      rotate(v.heading() - PI/2);
      ellipse(0, 0, 10, 10);
      line(0,0,0,10);
      pop();

    }

    function keyPressed() {
      if (keyCode === LEFT_ARROW) tlinks = true;
      if (keyCode === RIGHT_ARROW) trechts = true;
      if (key.toLowerCase() === 'w') tw = true;
      if (key.toLowerCase() === 's') ts = true;
    }

    function keyReleased() {
      if (keyCode === LEFT_ARROW) tlinks = false;
      if (keyCode === RIGHT_ARROW) trechts = false;
      if (key.toLowerCase() === 'w') tw = false;
      if (key.toLowerCase() === 's') ts = false;
    }
  </script>
</head>
<body>
</body>
</html>