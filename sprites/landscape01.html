<html>

<head>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.9.0/p5.js"></script>
  <script>

    // https://opengameart.org/content/tiny-16-basic

    let sheet;
    let cols = 8;
    let rows = 15;
    let images = make2DArray(cols, rows);

    let gridmap = [[1,1,1,0,0,0,0]];

    let imagemap;



    function preload() {
      sheet = loadImage('basictiles.png');
    }

    function setup() {
      createCanvas(cols*40, rows*40);
      for (let x = 0; x < cols; x++) {
        for (let y = 0; y < rows; y++) {

          let img = sheet.get(x * 16, y * 16, 16, 16);
          images[x][y] = img;
        }
      }
      imagemap = {1:images[6][4], 0:images[3][1]};
    }

    function draw() {
      background(220);
 

      push();
      scale(2, 2);

      for (let i=0; i<7; i++) {
        let index = gridmap[0][i]
        image(imagemap[index],i*16,0);
      }
      pop();
      noLoop();

    }


    function make2DArray(cols, rows) {
      let arr = new Array(cols);
      for (let x = 0; x < cols; x++) {
        arr[x] = new Array(rows);
      }
      return arr;
    }

  </script>
</head>

<body>
</body>

</html>