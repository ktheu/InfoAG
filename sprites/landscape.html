<html>

<head>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.9.0/p5.js"></script>
  <script>

    // https://opengameart.org/content/tiny-16-basic

    let sheet;
    let cols = 8;
    let rows = 15;
    let images = make2DArray(cols, rows);



    function preload() {
      sheet = loadImage('basictiles.png');
    }

    function setup() {
      createCanvas(cols*40, rows*40);
      for (let x = 0; x < cols; x++) {
        for (let y = 0; y < rows; y++) {

          let img = sheet.get(x * 16, y * 16, 16, 16);
          images[x][y] = img;
        }
      }
    }

    function draw() {
      background(220);
      let x = 10

      push();
      scale(2, 2);

      for (let x = 0; x < cols; x++) {
        for (let y = 0; y < rows; y++) {

          image(images[x][y],x*20, y*20);
        }
      }
      pop();

    }


    function make2DArray(cols, rows) {
      let arr = new Array(cols);
      for (let x = 0; x < cols; x++) {
        arr[x] = new Array(rows);
      }
      return arr;
    }

  </script>
</head>

<body>
</body>

</html>